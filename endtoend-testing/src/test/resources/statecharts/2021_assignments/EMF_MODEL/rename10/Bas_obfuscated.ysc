<?xml version="1.0" encoding="UTF-8"?>
<sgraph:Statechart xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:sgraph="http://www.yakindu.org/sct/sgraph/2.0.0" xmi:id="_M-14kNLDEe28zv8lYWPWfQ" specification="// You are only allowed to edit the&#xA;// &quot;internal&quot; section, see below&#xA;&#xA;// DO NOT EDIT THESE OPTIONS&#xA;@EventDriven&#xA;@SuperSteps(no) &#xA;&#xA;interface:&#xA;&#x9;// DO NOT EDIT THE INTERFACE&#xA;&#x9;&#xA;&#x9;in event approachingStation: integer&#xA;&#x9;out event openDoors&#xA;&#x9;out event closeDoors&#xA;&#x9;out event startDoorsSignal&#xA;&#x9;out event stopDoorsSignal&#xA;&#x9;in event board&#xA;&#x9;in event unboard&#xA;&#x9;in event requestStop: integer&#xA;&#x9;out event setTargetSpeed: real&#xA;&#x9;in event atTargetSpeed&#xA;&#x9;&#xA;&#x9;in event startEmergency&#xA;&#x9;in event stopEmergency&#xA;&#xA;&#x9;var stopsAt: integer = 0&#xA;&#x9;var remainingCapacity: integer = 6&#xA;&#x9;var numPassengers: integer = 0&#xA;&#x9;var effectiveStation: integer = 0&#xA;&#x9;&#xA;&#x9;&#xA;&#x9;&#xA;&#xA;&#x9;out event refreshUI&#xA;&#x9;out event executed&#xA;&#xA;internal:&#xA;&#x9;// FEEL FREE TO EDIT&#xA;&#x9;// e.g. add internal variables,&#xA;&#x9;//       internal events, ...&#xA;&#x9;var notAtTargetSpeed: boolean&#xA;&#x9;var zeroSpeed: boolean = true&#xA;&#x9;event obstructed&#xA;&#x9;&#xA;&#xA;&#x9;event internalOpenDoors&#xA;&#x9;event internalCloseDoors&#xA;&#x9;&#xA;" name="Bas">
  <regions xmi:type="sgraph:Region" xmi:id="_M-14kdLDEe28zv8lYWPWfQ" name="main region">
    <vertices xmi:type="sgraph:State" xmi:id="_M-14ktLDEe28zv8lYWPWfQ" specification="" name="gDU0Eoc28B" incomingTransitions="_M-2f4NLDEe28zv8lYWPWfQ">
      <regions xmi:type="sgraph:Region" xmi:id="_M-14k9LDEe28zv8lYWPWfQ" name="RequestStop">
        <vertices xmi:type="sgraph:State" xmi:id="_M-14lNLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise refreshUI" name="RequestingStop" incomingTransitions="_M-14ldLDEe28zv8lYWPWfQ _M-14l9LDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-14ldLDEe28zv8lYWPWfQ" specification="requestStop [valueof(requestStop) != valueof(approachingStation) &amp;&amp; zeroSpeed || !zeroSpeed] /&#xA;stopsAt |= (1 &lt;&lt; valueof(requestStop))" target="_M-14lNLDEe28zv8lYWPWfQ"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_M-14ltLDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-14l9LDEe28zv8lYWPWfQ" specification="" target="_M-14lNLDEe28zv8lYWPWfQ"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_M-14mNLDEe28zv8lYWPWfQ" name="r1">
        <vertices xmi:type="sgraph:State" xmi:id="_M-14mdLDEe28zv8lYWPWfQ" specification="" name="ArrivalAndDeparture" incomingTransitions="_M-2fv9LDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-14mtLDEe28zv8lYWPWfQ" specification="startEmergency" target="_M-2fwNLDEe28zv8lYWPWfQ"/>
          <regions xmi:type="sgraph:Region" xmi:id="_M-14m9LDEe28zv8lYWPWfQ" name="r1">
            <vertices xmi:type="sgraph:State" xmi:id="_M-14nNLDEe28zv8lYWPWfQ" name="AtStation">
              <regions xmi:type="sgraph:Region" xmi:id="_M-14ndLDEe28zv8lYWPWfQ" name="r1">
                <vertices xmi:type="sgraph:State" xmi:id="_M-14ntLDEe28zv8lYWPWfQ" specification="entry /&#xA;zeroSpeed = true" name="arriving" incomingTransitions="_M-14odLDEe28zv8lYWPWfQ _M-2fu9LDEe28zv8lYWPWfQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-14n9LDEe28zv8lYWPWfQ" specification="after 1s" target="_M-14otLDEe28zv8lYWPWfQ"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_M-14oNLDEe28zv8lYWPWfQ" kind="SHALLOW_HISTORY">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-14odLDEe28zv8lYWPWfQ" specification="" target="_M-14ntLDEe28zv8lYWPWfQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_M-14otLDEe28zv8lYWPWfQ" name="CWiKPHFDZa" incomingTransitions="_M-14n9LDEe28zv8lYWPWfQ _M-2fvdLDEe28zv8lYWPWfQ">
                  <regions xmi:type="sgraph:Region" xmi:id="_M-14o9LDEe28zv8lYWPWfQ" name="r1">
                    <vertices xmi:type="sgraph:State" xmi:id="_M-14pNLDEe28zv8lYWPWfQ" name="ClosingDoorsSequence" incomingTransitions="_M-2frNLDEe28zv8lYWPWfQ _M-2fr9LDEe28zv8lYWPWfQ">
                      <regions xmi:type="sgraph:Region" xmi:id="_M-14pdLDEe28zv8lYWPWfQ" name="r1">
                        <vertices xmi:type="sgraph:State" xmi:id="_M-2foNLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise startDoorsSignal;&#xA;raise refreshUI" name="WaitForClose" incomingTransitions="_M-2fptLDEe28zv8lYWPWfQ _M-2fqNLDEe28zv8lYWPWfQ">
                          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fodLDEe28zv8lYWPWfQ" specification="obstructed" target="_M-2fpdLDEe28zv8lYWPWfQ"/>
                          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fotLDEe28zv8lYWPWfQ" specification="after 1s /&#xA;raise stopDoorsSignal;&#xA;raise closeDoors;&#xA;raise internalCloseDoors" target="_M-2fo9LDEe28zv8lYWPWfQ"/>
                        </vertices>
                        <vertices xmi:type="sgraph:State" xmi:id="_M-2fo9LDEe28zv8lYWPWfQ" specification="entry /&#xA;raise refreshUI" name="StopDoorSignal" incomingTransitions="_M-2fotLDEe28zv8lYWPWfQ">
                          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fpNLDEe28zv8lYWPWfQ" specification="after 1s" target="_M-2fttLDEe28zv8lYWPWfQ"/>
                        </vertices>
                        <vertices xmi:type="sgraph:State" xmi:id="_M-2fpdLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise refreshUI" name="CgdVMQe53K" incomingTransitions="_M-2fodLDEe28zv8lYWPWfQ">
                          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fptLDEe28zv8lYWPWfQ" specification="after 1s" target="_M-2foNLDEe28zv8lYWPWfQ"/>
                        </vertices>
                        <vertices xmi:type="sgraph:Entry" xmi:id="_M-2fp9LDEe28zv8lYWPWfQ">
                          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fqNLDEe28zv8lYWPWfQ" specification="" target="_M-2foNLDEe28zv8lYWPWfQ"/>
                        </vertices>
                      </regions>
                    </vertices>
                    <vertices xmi:type="sgraph:State" xmi:id="_M-2fqdLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise openDoors;&#xA;raise internalOpenDoors;&#xA;raise refreshUI" name="DoorsOpen" incomingTransitions="_M-2fsdLDEe28zv8lYWPWfQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fqtLDEe28zv8lYWPWfQ" specification="after 2s" target="_M-2frdLDEe28zv8lYWPWfQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:State" xmi:id="_M-2fq9LDEe28zv8lYWPWfQ" specification="" name="DoorsClosing" incomingTransitions="_M-2frtLDEe28zv8lYWPWfQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2frNLDEe28zv8lYWPWfQ" specification="requestStop [(stopsAt &amp; ~(1 &lt;&lt; effectiveStation)) != 0] /&#xA;stopsAt &amp;= ~(1 &lt;&lt; effectiveStation)" target="_M-14pNLDEe28zv8lYWPWfQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:Choice" xmi:id="_M-2frdLDEe28zv8lYWPWfQ" incomingTransitions="_M-2fqtLDEe28zv8lYWPWfQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2frtLDEe28zv8lYWPWfQ" specification="else" target="_M-2fq9LDEe28zv8lYWPWfQ"/>
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fr9LDEe28zv8lYWPWfQ" specification="[(stopsAt &amp; ~(1 &lt;&lt; effectiveStation)) != 0] /&#xA;stopsAt &amp;= ~(1 &lt;&lt; effectiveStation)" target="_M-14pNLDEe28zv8lYWPWfQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:Entry" xmi:id="_M-2fsNLDEe28zv8lYWPWfQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fsdLDEe28zv8lYWPWfQ" specification="" target="_M-2fqdLDEe28zv8lYWPWfQ"/>
                    </vertices>
                  </regions>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_M-2fstLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise refreshUI" name="wcG1MqD3dq">
              <regions xmi:type="sgraph:Region" xmi:id="_M-2fs9LDEe28zv8lYWPWfQ" name="r1">
                <vertices xmi:type="sgraph:Entry" xmi:id="_M-2ftNLDEe28zv8lYWPWfQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2ftdLDEe28zv8lYWPWfQ" specification="" target="_M-2fttLDEe28zv8lYWPWfQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_M-2fttLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise setTargetSpeed: 24.0;&#xA;raise refreshUI;&#xA;notAtTargetSpeed = true;&#xA;zeroSpeed = false" name="DepartureSpeed" incomingTransitions="_M-2fpNLDEe28zv8lYWPWfQ _M-2ftdLDEe28zv8lYWPWfQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2ft9LDEe28zv8lYWPWfQ" specification="atTargetSpeed /&#xA;notAtTargetSpeed = false" target="_M-2fuNLDEe28zv8lYWPWfQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_M-2fuNLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise refreshUI" name="ZWiflweTga" incomingTransitions="_M-2ft9LDEe28zv8lYWPWfQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fudLDEe28zv8lYWPWfQ" specification="approachingStation [(stopsAt &amp; (1 &lt;&lt; valueof(approachingStation))) != 0]" target="_M-2futLDEe28zv8lYWPWfQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_M-2futLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise setTargetSpeed: 0;&#xA;raise refreshUI" name="CheckStation" incomingTransitions="_M-2fudLDEe28zv8lYWPWfQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fu9LDEe28zv8lYWPWfQ" specification="atTargetSpeed" target="_M-14ntLDEe28zv8lYWPWfQ"/>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_M-2fvNLDEe28zv8lYWPWfQ" incomingTransitions="_M-2fyNLDEe28zv8lYWPWfQ" kind="SHALLOW_HISTORY">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fvdLDEe28zv8lYWPWfQ" specification="" target="_M-14otLDEe28zv8lYWPWfQ"/>
            </vertices>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_M-2fvtLDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fv9LDEe28zv8lYWPWfQ" specification="" target="_M-14mdLDEe28zv8lYWPWfQ"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_M-2fwNLDEe28zv8lYWPWfQ" specification="" name="EmergencyStop" incomingTransitions="_M-14mtLDEe28zv8lYWPWfQ">
          <regions xmi:type="sgraph:Region" xmi:id="_M-2fwdLDEe28zv8lYWPWfQ" name="r1">
            <vertices xmi:type="sgraph:Entry" xmi:id="_M-2fwtLDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fw9LDEe28zv8lYWPWfQ" specification="" target="_M-2fxNLDEe28zv8lYWPWfQ"/>
            </vertices>
            <vertices xmi:type="sgraph:Choice" xmi:id="_M-2fxNLDEe28zv8lYWPWfQ" incomingTransitions="_M-2fw9LDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fxdLDEe28zv8lYWPWfQ" specification="always [!zeroSpeed] /&#xA;raise setTargetSpeed: 0" target="_M-2fydLDEe28zv8lYWPWfQ"/>
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fxtLDEe28zv8lYWPWfQ" specification="always [zeroSpeed]" target="_M-2fx9LDEe28zv8lYWPWfQ"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_M-2fx9LDEe28zv8lYWPWfQ" specification="entry /&#xA;raise openDoors;&#xA;raise internalOpenDoors;&#xA;raise refreshUI" name="xpnSNr8eQ1" incomingTransitions="_M-2fxtLDEe28zv8lYWPWfQ _M-2fytLDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fyNLDEe28zv8lYWPWfQ" specification="stopEmergency" target="_M-2fvNLDEe28zv8lYWPWfQ"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_M-2fydLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise refreshUI" name="A8bPSIZCTT" incomingTransitions="_M-2fxdLDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fytLDEe28zv8lYWPWfQ" specification="atTargetSpeed / &#xA;notAtTargetSpeed = true" target="_M-2fx9LDEe28zv8lYWPWfQ"/>
            </vertices>
          </regions>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_M-2fy9LDEe28zv8lYWPWfQ" name="BoardUnboard">
        <vertices xmi:type="sgraph:State" xmi:id="_M-2fzNLDEe28zv8lYWPWfQ" name="Boarding" incomingTransitions="_M-2f19LDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2fzdLDEe28zv8lYWPWfQ" specification="internalCloseDoors" target="_M-2f1tLDEe28zv8lYWPWfQ"/>
          <regions xmi:type="sgraph:Region" xmi:id="_M-2fztLDEe28zv8lYWPWfQ" name="zoaFyzR49p">
            <vertices xmi:type="sgraph:State" xmi:id="_M-2fz9LDEe28zv8lYWPWfQ" specification="" name="Oosqh5HwP5" incomingTransitions="_M-2f09LDEe28zv8lYWPWfQ _M-2f1dLDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f0NLDEe28zv8lYWPWfQ" specification="unboard [numPassengers >= 1]/&#xA;numPassengers -= 1;&#xA;remainingCapacity += 1" target="_M-2f0tLDEe28zv8lYWPWfQ"/>
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f0dLDEe28zv8lYWPWfQ" specification="board [remainingCapacity >= 1]/&#xA;numPassengers += 1;&#xA;remainingCapacity -= 1" target="_M-2f0tLDEe28zv8lYWPWfQ"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_M-2f0tLDEe28zv8lYWPWfQ" specification="entry /&#xA;raise obstructed;&#xA;raise refreshUI" name="CantBoard" incomingTransitions="_M-2f0NLDEe28zv8lYWPWfQ _M-2f0dLDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f09LDEe28zv8lYWPWfQ" specification="after 1s" target="_M-2fz9LDEe28zv8lYWPWfQ"/>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_M-2f1NLDEe28zv8lYWPWfQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f1dLDEe28zv8lYWPWfQ" specification="" target="_M-2fz9LDEe28zv8lYWPWfQ"/>
            </vertices>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_M-2f1tLDEe28zv8lYWPWfQ" name="ClosedDoors" incomingTransitions="_M-2fzdLDEe28zv8lYWPWfQ _M-2f2dLDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f19LDEe28zv8lYWPWfQ" specification="internalOpenDoors" target="_M-2fzNLDEe28zv8lYWPWfQ"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_M-2f2NLDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f2dLDEe28zv8lYWPWfQ" specification="" target="_M-2f1tLDEe28zv8lYWPWfQ"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_M-2f2tLDEe28zv8lYWPWfQ">
        <vertices xmi:type="sgraph:State" xmi:id="_M-2f29LDEe28zv8lYWPWfQ" name="initial" incomingTransitions="_M-2f3NLDEe28zv8lYWPWfQ _M-2f3tLDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f3NLDEe28zv8lYWPWfQ" specification="approachingStation /&#xA;effectiveStation = valueof(approachingStation)" target="_M-2f29LDEe28zv8lYWPWfQ"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_M-2f3dLDEe28zv8lYWPWfQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f3tLDEe28zv8lYWPWfQ" specification="" target="_M-2f29LDEe28zv8lYWPWfQ"/>
        </vertices>
      </regions>
    </vertices>
    <vertices xmi:type="sgraph:Entry" xmi:id="_M-2f39LDEe28zv8lYWPWfQ">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_M-2f4NLDEe28zv8lYWPWfQ" specification="" target="_M-14ktLDEe28zv8lYWPWfQ"/>
    </vertices>
  </regions>
</sgraph:Statechart>
