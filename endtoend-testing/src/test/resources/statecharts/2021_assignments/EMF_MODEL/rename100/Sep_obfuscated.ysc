<?xml version="1.0" encoding="UTF-8"?>
<sgraph:Statechart xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:sgraph="http://www.yakindu.org/sct/sgraph/2.0.0" xmi:id="_OIzqEMUJEe26WavsTYWx0g" specification="// You are only allowed to edit the&#xA;// &quot;internal&quot; section, see below&#xA;&#xA;// DO NOT EDIT THESE OPTIONS&#xA;@EventDriven&#xA;@SuperSteps(no) &#xA;&#xA;interface:&#xA;&#x9;// DO NOT EDIT THE INTERFACE&#xA;&#x9;in event approachingStation: integer&#xA;&#x9;out event openDoors&#xA;&#x9;out event closeDoors&#xA;&#x9;out event startDoorsSignal&#xA;&#x9;out event stopDoorsSignal&#xA;&#x9;in event board&#xA;&#x9;in event unboard&#xA;&#x9;in event requestStop: integer&#xA;&#x9;out event setTargetSpeed: real&#xA;&#x9;in event atTargetSpeed&#xA;&#x9;&#xA;&#x9;in event startEmergency&#xA;&#x9;in event stopEmergency&#xA;&#xA;&#x9;var stopsAt: integer = 0&#xA;&#x9;var remainingCapacity: integer = 6&#xA;&#x9;var numPassengers: integer = 0&#xA;&#x9;out event refreshUI&#xA;&#xA;internal:&#xA;&#x9;var arrival:integer = 0&#xA;&#x9;var i: integer = 1&#xA;&#x9;var signal: integer = 0&#xA;&#x9;var stop:boolean = true&#xA;&#x9;var allow: boolean = true&#xA;&#x9;var stopScheduled: boolean = false" name="Sep">
  <regions xmi:type="sgraph:Region" xmi:id="_OIzqEcUJEe26WavsTYWx0g" name="RCEdzZKqRa">
    <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqEsUJEe26WavsTYWx0g">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqE8UJEe26WavsTYWx0g" specification="" target="_OIzqFMUJEe26WavsTYWx0g"/>
    </vertices>
    <vertices xmi:type="sgraph:State" xmi:id="_OIzqFMUJEe26WavsTYWx0g" name="sIG86WnRDP" incomingTransitions="_OIzqE8UJEe26WavsTYWx0g">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqFcUJEe26WavsTYWx0g" specification="startEmergency" target="_OIzqT8UJEe26WavsTYWx0g"/>
      <regions xmi:type="sgraph:Region" xmi:id="_OIzqFsUJEe26WavsTYWx0g" name="KfMUEHE9HZ">
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqF8UJEe26WavsTYWx0g" name="cCapPYiw0A" incomingTransitions="_OIzqW8UJEe26WavsTYWx0g" kind="DEEP_HISTORY"/>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqGMUJEe26WavsTYWx0g" name="qNk5KASocC" incomingTransitions="_OIzqLMUJEe26WavsTYWx0g">
          <regions xmi:type="sgraph:Region" xmi:id="_OIzqGcUJEe26WavsTYWx0g" name="PjlFcS97mj">
            <vertices xmi:type="sgraph:State" xmi:id="_OIzqGsUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;allow = true" name="n9XykCXt8J" incomingTransitions="_OIzqJMUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqG8UJEe26WavsTYWx0g" specification="[stopScheduled]/&#xD;&#xA;signal = 0" target="_OIzqJ8UJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIzqHMUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;allow = false;&#xD;&#xA;raise stopDoorsSignal;&#xD;&#xA;raise closeDoors" name="LWOUQtEQGu" incomingTransitions="_OIzqKMUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqHcUJEe26WavsTYWx0g" specification="after 1s/&#xD;&#xA;stopsAt &amp;= ~(1 &lt;&lt; arrival)" target="_OIzqJcUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqHsUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqH8UJEe26WavsTYWx0g" specification="" target="_OIzqI8UJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqIMUJEe26WavsTYWx0g" incomingTransitions="_OIzqJsUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqIcUJEe26WavsTYWx0g" specification="[(stopsAt &amp; (1 &lt;&lt; valueof(approachingStation))) != 0 ]/&#xD;&#xA;arrival = valueof(approachingStation)" target="_OIzqKcUJEe26WavsTYWx0g"/>
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqIsUJEe26WavsTYWx0g" specification="else" target="_OIzqJcUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIzqI8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise openDoors;&#xD;&#xA;allow = true;&#xD;&#xA;stop=true" name="nTNUdgDyIF" incomingTransitions="_OIzqH8UJEe26WavsTYWx0g _OIzqKsUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqJMUJEe26WavsTYWx0g" specification="after 2 s" target="_OIzqGsUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIzqJcUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise setTargetSpeed:24;&#xD;&#xA;raise closeDoors;&#xD;&#xA;stop = false;&#xD;&#xA;raise refreshUI" name="dlYDfSQDaX" incomingTransitions="_OIzqHcUJEe26WavsTYWx0g _OIzqIsUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqJsUJEe26WavsTYWx0g" specification="approachingStation" target="_OIzqIMUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIzqJ8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise startDoorsSignal;&#xD;&#xA;allow = true" name="IcIEUms1bk" incomingTransitions="_OIzqG8UJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqKMUJEe26WavsTYWx0g" specification="[signal>1]" target="_OIzqHMUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIzqKcUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise closeDoors;&#xD;&#xA;raise setTargetSpeed:0" name="q39ZD4gfpa" incomingTransitions="_OIzqIcUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqKsUJEe26WavsTYWx0g" specification="atTargetSpeed" target="_OIzqI8UJEe26WavsTYWx0g"/>
            </vertices>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqK8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqLMUJEe26WavsTYWx0g" specification="" target="_OIzqGMUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OIzqLcUJEe26WavsTYWx0g" name="TAh4WRV3W2">
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqLsUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;numPassengers -=1;&#xD;&#xA;remainingCapacity= 6 - numPassengers;&#xD;&#xA;signal = 0;&#xD;&#xA;raise refreshUI" name="lGuC5WHBGT" incomingTransitions="_OIzqO8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqL8UJEe26WavsTYWx0g" specification="after 1 s/&#xD;&#xA;signal = 0" target="_OIzqNcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqMMUJEe26WavsTYWx0g" incomingTransitions="_OIzqOMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqMcUJEe26WavsTYWx0g" specification="else" target="_OIzqNcUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqMsUJEe26WavsTYWx0g" specification="[remainingCapacity > 0]" target="_OIzqM8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqM8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;numPassengers+=1;&#xD;&#xA;remainingCapacity= 6 - numPassengers;&#xD;&#xA;signal = 0;&#xD;&#xA;raise refreshUI" name="hWsdtT0lQs" incomingTransitions="_OIzqMsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqNMUJEe26WavsTYWx0g" specification="after 1 s/&#xD;&#xA;signal = 0" target="_OIzqNcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqNcUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise refreshUI" name="AOfOCwHX6e" incomingTransitions="_OIzqOsUJEe26WavsTYWx0g _OIzqL8UJEe26WavsTYWx0g _OIzqMcUJEe26WavsTYWx0g _OIzqNMUJEe26WavsTYWx0g _OIzqQMUJEe26WavsTYWx0g _OIzqQsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqNsUJEe26WavsTYWx0g" specification="[!allow]" target="_OIzqQcUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqN8UJEe26WavsTYWx0g" specification="unboard" target="_OIzqOcUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqOMUJEe26WavsTYWx0g" specification="board" target="_OIzqMMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqOcUJEe26WavsTYWx0g" incomingTransitions="_OIzqN8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqOsUJEe26WavsTYWx0g" specification="else" target="_OIzqNcUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqO8UJEe26WavsTYWx0g" specification="[remainingCapacity &lt; 6]" target="_OIzqLsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqPMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqPcUJEe26WavsTYWx0g" specification="" target="_OIzqPsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqPsUJEe26WavsTYWx0g" incomingTransitions="_OIzqPcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqP8UJEe26WavsTYWx0g" specification="else" target="_OIzqQcUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqQMUJEe26WavsTYWx0g" specification="[allow]" target="_OIzqNcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqQcUJEe26WavsTYWx0g" name="nOFnD7Z9oH" incomingTransitions="_OIzqP8UJEe26WavsTYWx0g _OIzqNsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqQsUJEe26WavsTYWx0g" specification="[allow]" target="_OIzqNcUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OIzqQ8UJEe26WavsTYWx0g" name="A597VNgTfM">
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqRMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqRcUJEe26WavsTYWx0g" specification="" target="_OIzqRsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqRsUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;signal +=1" name="timer" incomingTransitions="_OIzqRcUJEe26WavsTYWx0g _OIzqR8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqR8UJEe26WavsTYWx0g" specification="after 1s" target="_OIzqRsUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OIzqSMUJEe26WavsTYWx0g" name="P8vYcV7xnZ">
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqScUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqSsUJEe26WavsTYWx0g" specification="" target="_OIzqS8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqS8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise refreshUI" name="op1yXeFlK6" incomingTransitions="_OIzqSsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqTMUJEe26WavsTYWx0g" specification="requestStop" target="_OIzqTcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqTcUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;i = valueof(requestStop);&#xD;&#xA;stopsAt |= (1 &lt;&lt; i);&#xD;&#xA;stopScheduled = ((stopsAt &amp; (1 &lt;&lt; 0 )) != 0 || (stopsAt &amp; (1 &lt;&lt; 1 )) != 0 || (stopsAt &amp; (1 &lt;&lt; 2 )) != 0 || (stopsAt &amp; (1 &lt;&lt; 3 )) != 0);&#xD;&#xA;raise refreshUI" name="kfOIA0emHf" incomingTransitions="_OIzqTMUJEe26WavsTYWx0g _OIzqTsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqTsUJEe26WavsTYWx0g" specification="requestStop" target="_OIzqTcUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
    </vertices>
    <vertices xmi:type="sgraph:State" xmi:id="_OIzqT8UJEe26WavsTYWx0g" name="jGAymjbVeC" incomingTransitions="_OIzqFcUJEe26WavsTYWx0g">
      <regions xmi:type="sgraph:Region" xmi:id="_OIzqUMUJEe26WavsTYWx0g" name="v2zfnBtOQ2">
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIzqUcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqUsUJEe26WavsTYWx0g" specification="" target="_OIzqVcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqU8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise setTargetSpeed:0;&#xD;&#xA;raise refreshUI" name="J9csmozEhb" incomingTransitions="_OIzqVsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqVMUJEe26WavsTYWx0g" specification="atTargetSpeed" target="_OIzqWMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqVcUJEe26WavsTYWx0g" incomingTransitions="_OIzqUsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqVsUJEe26WavsTYWx0g" specification="[stop==false]" target="_OIzqU8UJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqV8UJEe26WavsTYWx0g" specification="else" target="_OIzqWMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqWMUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise openDoors;&#xD;&#xA;raise refreshUI" name="gaAQ9tQEjh" incomingTransitions="_OIzqV8UJEe26WavsTYWx0g _OIzqVMUJEe26WavsTYWx0g _OIzqYsUJEe26WavsTYWx0g _OIzqZcUJEe26WavsTYWx0g _OIzqXcUJEe26WavsTYWx0g _OIzqX8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqWcUJEe26WavsTYWx0g" specification="board" target="_OIzqYMUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqWsUJEe26WavsTYWx0g" specification="unboard" target="_OIzqY8UJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqW8UJEe26WavsTYWx0g" specification="stopEmergency" target="_OIzqF8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqXMUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;numPassengers+=1;&#xD;&#xA;remainingCapacity= 6 - numPassengers;&#xD;&#xA;raise refreshUI" name="GzjO2Tzmz8" incomingTransitions="_OIzqYcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqXcUJEe26WavsTYWx0g" specification="after 1 s" target="_OIzqWMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIzqXsUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;numPassengers -=1;&#xD;&#xA;remainingCapacity= 6 - numPassengers;&#xD;&#xA;raise refreshUI" name="H9E5GeET1v" incomingTransitions="_OIzqZMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqX8UJEe26WavsTYWx0g" specification="after 1 s" target="_OIzqWMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqYMUJEe26WavsTYWx0g" incomingTransitions="_OIzqWcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqYcUJEe26WavsTYWx0g" specification="[remainingCapacity>0]" target="_OIzqXMUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqYsUJEe26WavsTYWx0g" specification="else" target="_OIzqWMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIzqY8UJEe26WavsTYWx0g" incomingTransitions="_OIzqWsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqZMUJEe26WavsTYWx0g" specification="[remainingCapacity&lt;6]" target="_OIzqXsUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIzqZcUJEe26WavsTYWx0g" specification="else" target="_OIzqWMUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
    </vertices>
  </regions>
</sgraph:Statechart>
