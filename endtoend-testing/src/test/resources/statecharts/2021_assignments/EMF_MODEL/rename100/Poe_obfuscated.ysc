<?xml version="1.0" encoding="UTF-8"?>
<sgraph:Statechart xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:sgraph="http://www.yakindu.org/sct/sgraph/2.0.0" xmi:id="_OIgIEMUJEe26WavsTYWx0g" specification="// You are only allowed to edit the&#xA;// &quot;internal&quot; section, see below&#xA;&#xA;// DO NOT EDIT THESE OPTIONS&#xA;@EventDriven&#xA;@SuperSteps(no) &#xA;&#xA;interface:&#xA;&#x9;// DO NOT EDIT THE INTERFACE&#xA;&#x9;&#xA;&#x9;in event approachingStation: integer&#xA;&#x9;out event openDoors&#xA;&#x9;out event closeDoors&#xA;&#x9;out event startDoorsSignal&#xA;&#x9;out event stopDoorsSignal&#xA;&#x9;in event board&#xA;&#x9;in event unboard&#xA;&#x9;in event requestStop: integer&#xA;&#x9;out event setTargetSpeed: real&#xA;&#x9;in event atTargetSpeed&#xA;&#x9;&#xA;&#x9;in event startEmergency&#xA;&#x9;in event stopEmergency&#xA;&#xA;&#x9;var stopsAt: integer = 1&#xA;&#x9;var remainingCapacity: integer = 6&#xA;&#x9;var numPassengers: integer = 0&#xA;&#xA;&#x9;out event refreshUI&#xA;&#xA;internal:&#xA;&#x9;// FEEL FREE TO EDIT&#xA;&#x9;// e.g. add internal variables,&#xA;&#x9;//       internal events, ...&#xA;&#x9;var waited2s : boolean = false&#xA;    var currentStation: integer = 0&#xA;    var requestedStop: integer&#xA;    var currentSpeed:integer&#xA;    var noEmergency: boolean = true&#xA;    &#xA;&#x9;event stopBoarding&#xA;&#x9;event startBoarding&#xA;&#x9;event wait1s&#xA;&#x9;event wait1sDone" name="Poe">
  <regions xmi:type="sgraph:Region" xmi:id="_OIgIEcUJEe26WavsTYWx0g" name="Xh7flasUyM">
    <vertices xmi:type="sgraph:State" xmi:id="_OIgIEsUJEe26WavsTYWx0g" name="P0LgDJMPAj" incomingTransitions="_OIgIa8UJEe26WavsTYWx0g">
      <regions xmi:type="sgraph:Region" xmi:id="_OIgIE8UJEe26WavsTYWx0g" name="Ddjzzsww1K">
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIFMUJEe26WavsTYWx0g" name="QKS04W0P84" incomingTransitions="_OIgIOcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIFcUJEe26WavsTYWx0g" specification="startEmergency/ noEmergency= false; raise stopDoorsSignal" target="_OIgIOsUJEe26WavsTYWx0g"/>
          <regions xmi:type="sgraph:Region" xmi:id="_OIgIFsUJEe26WavsTYWx0g" name="uhACl1RSNL">
            <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIF8UJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIGMUJEe26WavsTYWx0g" specification="" target="_OIgIK8UJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIgIGcUJEe26WavsTYWx0g" name="CY8q121d8a" incomingTransitions="_OIgINMUJEe26WavsTYWx0g _OIgIMMUJEe26WavsTYWx0g">
              <regions xmi:type="sgraph:Region" xmi:id="_OIgIGsUJEe26WavsTYWx0g" name="QKb9FHNfbA">
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIG8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise startDoorsSignal;&#xD;&#xA;raise wait1s;&#xD;&#xA;raise refreshUI" name="rJeihMnIWi" incomingTransitions="_OIgIKcUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIHMUJEe26WavsTYWx0g" specification="wait1sDone" target="_OIgIHcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIHcUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise stopBoarding;&#xD;&#xA;raise stopDoorsSignal;&#xD;&#xA;raise closeDoors;&#xD;&#xA;waited2s = false;&#xD;&#xA;raise refreshUI" name="GNGkrJ3JVc" incomingTransitions="_OIgIHMUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIHsUJEe26WavsTYWx0g" specification="after 1 s" target="_OIgIH8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIH8UJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;raise setTargetSpeed: 24;&#xD;&#xA;currentSpeed = 24;&#xD;&#xA;raise refreshUI" name="goHuFtS2LA" incomingTransitions="_OIgIHsUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIIMUJEe26WavsTYWx0g" specification="atTargetSpeed" target="_OIgIIcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIIcUJEe26WavsTYWx0g" name="jpOxdX3vqH" incomingTransitions="_OIgIIMUJEe26WavsTYWx0g _OIgIJcUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIIsUJEe26WavsTYWx0g" specification="approachingStation" target="_OIgII8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Choice" xmi:id="_OIgII8UJEe26WavsTYWx0g" incomingTransitions="_OIgIIsUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIJMUJEe26WavsTYWx0g" specification="[&#xD;&#xA;&#x9;(stopsAt &amp; (1 &lt;&lt; valueof(approachingStation))) != 0&#xD;&#xA;]" target="_OIgIJsUJEe26WavsTYWx0g"/>
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIJcUJEe26WavsTYWx0g" specification="else" target="_OIgIIcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIJsUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;raise setTargetSpeed:0;&#xD;&#xA;raise refreshUI;&#xD;&#xA;currentStation = valueof(approachingStation)" name="s95PJGpWDP" incomingTransitions="_OIgIJMUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIJ8UJEe26WavsTYWx0g" specification="atTargetSpeed / currentSpeed = 0" target="_OIgILcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIKMUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIKcUJEe26WavsTYWx0g" specification="" target="_OIgIG8UJEe26WavsTYWx0g"/>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIKsUJEe26WavsTYWx0g" name="ehi0uFD3nV" incomingTransitions="_OIgIPcUJEe26WavsTYWx0g" kind="SHALLOW_HISTORY"/>
            <vertices xmi:type="sgraph:State" xmi:id="_OIgIK8UJEe26WavsTYWx0g" name="T8ofzct5Wz" incomingTransitions="_OIgIGMUJEe26WavsTYWx0g">
              <regions xmi:type="sgraph:Region" xmi:id="_OIgILMUJEe26WavsTYWx0g" name="WNVfJ3wO0e">
                <vertices xmi:type="sgraph:State" xmi:id="_OIgILcUJEe26WavsTYWx0g" specification="entry /&#xD;&#xA;raise refreshUI" name="ArrivalAtStaion" incomingTransitions="_OIgIJ8UJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgILsUJEe26WavsTYWx0g" specification="after 1 s/ &#xD;&#xA;raise openDoors;&#xD;&#xA;raise refreshUI" target="_OIgIMcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIL8UJEe26WavsTYWx0g" name="nCSPjXfCRg" incomingTransitions="_OIgINcUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIMMUJEe26WavsTYWx0g" specification="requestStop [valueof(requestStop) != currentStation]" target="_OIgIGcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OIgIMcUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise startBoarding;&#xD;&#xA;currentSpeed = 0;&#xD;&#xA;stopsAt &amp;= ~(1 &lt;&lt; currentStation);&#xD;&#xA;raise refreshUI" name="ZRciXGuGUt" incomingTransitions="_OIgILsUJEe26WavsTYWx0g _OIgIN8UJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIMsUJEe26WavsTYWx0g" specification="after 2 s/ &#xD;&#xA;waited2s = true" target="_OIgIM8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Choice" xmi:id="_OIgIM8UJEe26WavsTYWx0g" incomingTransitions="_OIgIMsUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgINMUJEe26WavsTYWx0g" specification="[stopsAt > 0]" target="_OIgIGcUJEe26WavsTYWx0g"/>
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgINcUJEe26WavsTYWx0g" specification="else" target="_OIgIL8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_OIgINsUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIN8UJEe26WavsTYWx0g" specification="" target="_OIgIMcUJEe26WavsTYWx0g"/>
                </vertices>
              </regions>
            </vertices>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIOMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIOcUJEe26WavsTYWx0g" specification="" target="_OIgIFMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIOsUJEe26WavsTYWx0g" name="bSSslw7FqF" incomingTransitions="_OIgIFcUJEe26WavsTYWx0g">
          <regions xmi:type="sgraph:Region" xmi:id="_OIgIO8UJEe26WavsTYWx0g" name="AL0bVkHrww">
            <vertices xmi:type="sgraph:State" xmi:id="_OIgIPMUJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;&#xD;&#xA;raise startBoarding;&#xD;&#xA;raise refreshUI" name="bYiw9LggDl" incomingTransitions="_OIgIQcUJEe26WavsTYWx0g _OIgIRMUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIPcUJEe26WavsTYWx0g" specification="stopEmergency/ noEmergency=true" target="_OIgIKsUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIPsUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIP8UJEe26WavsTYWx0g" specification="" target="_OIgIQMUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:Choice" xmi:id="_OIgIQMUJEe26WavsTYWx0g" incomingTransitions="_OIgIP8UJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIQcUJEe26WavsTYWx0g" specification="[currentSpeed == 0]" target="_OIgIPMUJEe26WavsTYWx0g"/>
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIQsUJEe26WavsTYWx0g" specification="else" target="_OIgIQ8UJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OIgIQ8UJEe26WavsTYWx0g" specification="entry/&#xD;&#xA;raise setTargetSpeed: 0;&#xD;&#xA;currentSpeed = 0;&#xD;&#xA;raise refreshUI" name="bVnlRnkmpe" incomingTransitions="_OIgIQsUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIRMUJEe26WavsTYWx0g" specification="atTargetSpeed/ raise openDoors" target="_OIgIPMUJEe26WavsTYWx0g"/>
            </vertices>
          </regions>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OIgIRcUJEe26WavsTYWx0g" name="TntLQ4Ndax">
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIRsUJEe26WavsTYWx0g" name="EiQNAbLEeO" incomingTransitions="_OIgIScUJEe26WavsTYWx0g _OIgIS8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIR8UJEe26WavsTYWx0g" specification="wait1s" target="_OIgISsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIgISMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIScUJEe26WavsTYWx0g" specification="" target="_OIgIRsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgISsUJEe26WavsTYWx0g" name="qZJNLAnry4" incomingTransitions="_OIgIR8UJEe26WavsTYWx0g _OIgIT8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIS8UJEe26WavsTYWx0g" specification="after 1 s [noEmergency == true]/&#xD;&#xA;raise wait1sDone" target="_OIgIRsUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgITMUJEe26WavsTYWx0g" specification="unboard [numPassengers > 0]" target="_OIgITsUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgITcUJEe26WavsTYWx0g" specification="board [remainingCapacity > 0]" target="_OIgITsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgITsUJEe26WavsTYWx0g" name="s84gLAsg4G" incomingTransitions="_OIgITMUJEe26WavsTYWx0g _OIgITcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIT8UJEe26WavsTYWx0g" specification="wait1s" target="_OIgISsUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OIgIUMUJEe26WavsTYWx0g" name="QcpQqKrQHz">
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIUcUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;raise refreshUI" name="zTsmeol2r5" incomingTransitions="_OIgIWMUJEe26WavsTYWx0g _OIgIVsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIUsUJEe26WavsTYWx0g" specification="startBoarding" target="_OIgIU8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIU8UJEe26WavsTYWx0g" specification="" name="R6Lekl1MSj" incomingTransitions="_OIgIUsUJEe26WavsTYWx0g _OIgIXsUJEe26WavsTYWx0g _OIgIX8UJEe26WavsTYWx0g _OIgIYcUJEe26WavsTYWx0g _OIgIYsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIVMUJEe26WavsTYWx0g" specification="board [remainingCapacity > 0]" target="_OIgIWcUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIVcUJEe26WavsTYWx0g" specification="unboard [numPassengers > 0]" target="_OIgIW8UJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIVsUJEe26WavsTYWx0g" specification="wait1sDone" target="_OIgIUcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIV8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIWMUJEe26WavsTYWx0g" specification="" target="_OIgIUcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIWcUJEe26WavsTYWx0g" specification="entry /&#xD;&#xA;numPassengers +=1;&#xD;&#xA;remainingCapacity= 6 - numPassengers;&#xD;&#xA;raise refreshUI" name="YxTCsHoQfw" incomingTransitions="_OIgIVMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIWsUJEe26WavsTYWx0g" specification="after 1 s" target="_OIgIXcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIW8UJEe26WavsTYWx0g" specification="entry /&#xD;&#xA;numPassengers -=1;&#xD;&#xA;remainingCapacity= 6 - numPassengers;&#xD;&#xA;raise refreshUI" name="L6FpLEsbN3" incomingTransitions="_OIgIVcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIXMUJEe26WavsTYWx0g" specification="after 1 s" target="_OIgIYMUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIgIXcUJEe26WavsTYWx0g" incomingTransitions="_OIgIWsUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIXsUJEe26WavsTYWx0g" specification="[stopsAt > 0 &amp;&amp; noEmergency == true]/ raise wait1s" target="_OIgIU8UJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIX8UJEe26WavsTYWx0g" specification="else" target="_OIgIU8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Choice" xmi:id="_OIgIYMUJEe26WavsTYWx0g" incomingTransitions="_OIgIXMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIYcUJEe26WavsTYWx0g" specification="else" target="_OIgIU8UJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIYsUJEe26WavsTYWx0g" specification="[stopsAt > 0 &amp;&amp; noEmergency== true]/ raise wait1s" target="_OIgIU8UJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OIgIY8UJEe26WavsTYWx0g" name="N7vAdaNNsl">
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIZMUJEe26WavsTYWx0g" name="cSIkZ4PkoZ" incomingTransitions="_OIgIacUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIZcUJEe26WavsTYWx0g" specification="requestStop [valueof(requestStop) != currentStation]" target="_OIgIZsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OIgIZsUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;requestedStop = valueof(requestStop);&#xD;&#xA;stopsAt |= (1 &lt;&lt; requestedStop);&#xD;&#xA;raise refreshUI" name="FxWOLn6uhj" incomingTransitions="_OIgIZ8UJEe26WavsTYWx0g _OIgIZcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIZ8UJEe26WavsTYWx0g" specification="requestStop [valueof(requestStop) != currentStation]" target="_OIgIZsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIaMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIacUJEe26WavsTYWx0g" target="_OIgIZMUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
    </vertices>
    <vertices xmi:type="sgraph:Entry" xmi:id="_OIgIasUJEe26WavsTYWx0g">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OIgIa8UJEe26WavsTYWx0g" specification="" target="_OIgIEsUJEe26WavsTYWx0g"/>
    </vertices>
  </regions>
</sgraph:Statechart>
