<?xml version="1.0" encoding="UTF-8"?>
<sgraph:Statechart xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:sgraph="http://www.yakindu.org/sct/sgraph/2.0.0" xmi:id="_VwXYcMDDEe2AvpP2PETKhQ" specification="// You are only allowed to edit the&#xA;// &quot;internal&quot; section, see below&#xA;&#xA;// DO NOT EDIT THESE OPTIONS&#xA;@EventDriven&#xA;@SuperSteps(no) &#xA;&#xA;interface:&#xA;&#x9;// DO NOT EDIT THE INTERFACE&#xA;&#x9;&#xA;&#x9;in event approachingStation: integer&#xA;&#x9;out event openDoors&#xA;&#x9;out event closeDoors&#xA;&#x9;out event startDoorsSignal&#xA;&#x9;out event stopDoorsSignal&#xA;&#x9;in event board&#xA;&#x9;in event unboard&#xA;&#x9;in event requestStop: integer&#xA;&#x9;out event setTargetSpeed: real&#xA;&#x9;in event atTargetSpeed&#xA;&#x9;&#xA;&#x9;in event startEmergency&#xA;&#x9;in event stopEmergency&#xA;&#xA;&#x9;var stopsAt: integer = 1&#xA;&#x9;var remainingCapacity: integer = 6&#xA;&#x9;var numPassengers: integer = 0&#xA;&#xA;&#x9;out event refreshUI&#xA;&#xA;internal:&#xA;&#x9;// FEEL FREE TO EDIT&#xA;&#x9;// e.g. add internal variables,&#xA;&#x9;//       internal events, ...&#xA;&#x9; var waited2sec: boolean&#xA;&#x9; var curStation: integer&#xA;&#x9; var doorsOpen: boolean&#xA;&#x9; var doorsBlocked: boolean&#xA;&#x9; var standstill: boolean" name="Eva">
  <regions xmi:type="sgraph:Region" xmi:id="_VwXYccDDEe2AvpP2PETKhQ" name="main region">
    <vertices xmi:type="sgraph:State" xmi:id="_VwXYcsDDEe2AvpP2PETKhQ" name="wybe7fPVLN" incomingTransitions="_VwXYdsDDEe2AvpP2PETKhQ"/>
    <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYc8DDEe2AvpP2PETKhQ">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYdMDDEe2AvpP2PETKhQ" specification="" target="_VwXYdcDDEe2AvpP2PETKhQ"/>
    </vertices>
    <vertices xmi:type="sgraph:State" xmi:id="_VwXYdcDDEe2AvpP2PETKhQ" specification="" name="Trolley" incomingTransitions="_VwXYdMDDEe2AvpP2PETKhQ">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYdsDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYcsDDEe2AvpP2PETKhQ"/>
      <regions xmi:type="sgraph:Region" xmi:id="_VwXYd8DDEe2AvpP2PETKhQ" name="r1">
        <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYeMDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYecDDEe2AvpP2PETKhQ" specification="" target="_VwXYe8DDEe2AvpP2PETKhQ"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYesDDEe2AvpP2PETKhQ" name="Gk9xmAxfbV" incomingTransitions="_VwXYr8DDEe2AvpP2PETKhQ"/>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYe8DDEe2AvpP2PETKhQ" name="main functionality" incomingTransitions="_VwXYecDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYfMDDEe2AvpP2PETKhQ" specification="startEmergency" target="_VwXYrcDDEe2AvpP2PETKhQ"/>
          <regions xmi:type="sgraph:Region" xmi:id="_VwXYfcDDEe2AvpP2PETKhQ" name="r1">
            <vertices xmi:type="sgraph:State" xmi:id="_VwXYfsDDEe2AvpP2PETKhQ" name="Departure" incomingTransitions="_VwXYlsDDEe2AvpP2PETKhQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYf8DDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYq8DDEe2AvpP2PETKhQ"/>
              <regions xmi:type="sgraph:Region" xmi:id="_VwXYgMDDEe2AvpP2PETKhQ" name="r1">
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYgcDDEe2AvpP2PETKhQ" specification="entry / raise setTargetSpeed: 24;&#xA;standstill = false" name="Driving" incomingTransitions="_VwXYhsDDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYgsDDEe2AvpP2PETKhQ" specification="atTargetSpeed" target="_VwXYh8DDEe2AvpP2PETKhQ"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYg8DDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYhMDDEe2AvpP2PETKhQ" specification="" target="_VwXYhcDDEe2AvpP2PETKhQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYhcDDEe2AvpP2PETKhQ" specification="entry /&#xA;raise closeDoors;&#xA;doorsOpen = false;&#xA;raise stopDoorsSignal" name="ClosingDoors" incomingTransitions="_VwXYhMDDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYhsDDEe2AvpP2PETKhQ" specification="after 1s" target="_VwXYgcDDEe2AvpP2PETKhQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYh8DDEe2AvpP2PETKhQ" name="Accepting" incomingTransitions="_VwXYgsDDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYiMDDEe2AvpP2PETKhQ" specification="approachingStation &#xA;[(stopsAt &amp; (1 &lt;&lt; valueof(approachingStation))) != 0] /&#xA;curStation = valueof(approachingStation)" target="_VwXYicDDEe2AvpP2PETKhQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYicDDEe2AvpP2PETKhQ" specification="entry / &#xA;raise setTargetSpeed: 0&#xA;" name="Approaching" incomingTransitions="_VwXYiMDDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYisDDEe2AvpP2PETKhQ" specification="atTargetSpeed / standstill = true " target="_VwXYi8DDEe2AvpP2PETKhQ"/>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_VwXYi8DDEe2AvpP2PETKhQ" name="Arrival" incomingTransitions="_VwXYisDDEe2AvpP2PETKhQ _VwXYqsDDEe2AvpP2PETKhQ">
              <regions xmi:type="sgraph:Region" xmi:id="_VwXYjMDDEe2AvpP2PETKhQ" name="r1">
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYjcDDEe2AvpP2PETKhQ" name="GS3pKIbidJ" incomingTransitions="_VwXYksDDEe2AvpP2PETKhQ"/>
                <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYjsDDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYj8DDEe2AvpP2PETKhQ" specification="" target="_VwXYkMDDEe2AvpP2PETKhQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYkMDDEe2AvpP2PETKhQ" specification="entry /&#xA;standstill = true" name="Stopping" incomingTransitions="_VwXYj8DDEe2AvpP2PETKhQ">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYkcDDEe2AvpP2PETKhQ" specification="after 1s / &#xA;stopsAt &amp;= ~(1 &lt;&lt; curStation);&#xA;raise refreshUI" target="_VwXYk8DDEe2AvpP2PETKhQ"/>
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYksDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYjcDDEe2AvpP2PETKhQ"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_VwXYk8DDEe2AvpP2PETKhQ" name="Boarding" incomingTransitions="_VwXYkcDDEe2AvpP2PETKhQ">
                  <regions xmi:type="sgraph:Region" xmi:id="_VwXYlMDDEe2AvpP2PETKhQ" name="r1">
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYlcDDEe2AvpP2PETKhQ" specification="entry /&#xA;raise startDoorsSignal" name="Request" incomingTransitions="_VwXYnMDDEe2AvpP2PETKhQ _VwXYl8DDEe2AvpP2PETKhQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYlsDDEe2AvpP2PETKhQ" specification="[!doorsBlocked]" target="_VwXYfsDDEe2AvpP2PETKhQ"/>
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYl8DDEe2AvpP2PETKhQ" specification="after 100ms&#xA;" target="_VwXYlcDDEe2AvpP2PETKhQ"/>
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYmMDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYmcDDEe2AvpP2PETKhQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYmcDDEe2AvpP2PETKhQ" name="DrbPlZt5tf" incomingTransitions="_VwXYmMDDEe2AvpP2PETKhQ"/>
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYmsDDEe2AvpP2PETKhQ" name="hZYTrLEDcm" incomingTransitions="_VwXYnsDDEe2AvpP2PETKhQ"/>
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYm8DDEe2AvpP2PETKhQ" specification="entry /&#xA;raise openDoors;&#xA;doorsOpen = true" name="OpeningDoors" incomingTransitions="_VwXYoMDDEe2AvpP2PETKhQ _VwXYncDDEe2AvpP2PETKhQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYnMDDEe2AvpP2PETKhQ" specification="[stopsAt != 0 &#xA;&#x9;&amp;&amp; waited2sec]" target="_VwXYlcDDEe2AvpP2PETKhQ"/>
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYncDDEe2AvpP2PETKhQ" specification="after 100ms" target="_VwXYm8DDEe2AvpP2PETKhQ"/>
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYnsDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYmsDDEe2AvpP2PETKhQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYn8DDEe2AvpP2PETKhQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYoMDDEe2AvpP2PETKhQ" specification="" target="_VwXYm8DDEe2AvpP2PETKhQ"/>
                    </vertices>
                  </regions>
                  <regions xmi:type="sgraph:Region" xmi:id="_VwXYocDDEe2AvpP2PETKhQ" name="r2">
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYosDDEe2AvpP2PETKhQ" name="dSsZPhv16w" incomingTransitions="_VwXYqMDDEe2AvpP2PETKhQ"/>
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYo8DDEe2AvpP2PETKhQ" specification="entry /&#xA;waited2sec = false" name="Waiting" incomingTransitions="_VwXYpsDDEe2AvpP2PETKhQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYpMDDEe2AvpP2PETKhQ" specification="after 2s" target="_VwXYp8DDEe2AvpP2PETKhQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYpcDDEe2AvpP2PETKhQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYpsDDEe2AvpP2PETKhQ" specification="" target="_VwXYo8DDEe2AvpP2PETKhQ"/>
                    </vertices>
                    <vertices xmi:type="sgraph:State" xmi:id="_VwXYp8DDEe2AvpP2PETKhQ" specification="entry /&#xA;waited2sec = true" name="Waited2sec" incomingTransitions="_VwXYpMDDEe2AvpP2PETKhQ">
                      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYqMDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYosDDEe2AvpP2PETKhQ"/>
                    </vertices>
                  </regions>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYqcDDEe2AvpP2PETKhQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYqsDDEe2AvpP2PETKhQ" specification="" target="_VwXYi8DDEe2AvpP2PETKhQ"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_VwXYq8DDEe2AvpP2PETKhQ" name="qilEtRXJyD" incomingTransitions="_VwXYf8DDEe2AvpP2PETKhQ"/>
            <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYrMDDEe2AvpP2PETKhQ" name="h" incomingTransitions="_VwXYrsDDEe2AvpP2PETKhQ" kind="SHALLOW_HISTORY"/>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYrcDDEe2AvpP2PETKhQ" name="Emergency" incomingTransitions="_VwXYfMDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYrsDDEe2AvpP2PETKhQ" specification="stopEmergency" target="_VwXYrMDDEe2AvpP2PETKhQ"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYr8DDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYesDDEe2AvpP2PETKhQ"/>
          <regions xmi:type="sgraph:Region" xmi:id="_VwXYsMDDEe2AvpP2PETKhQ" name="r1">
            <vertices xmi:type="sgraph:State" xmi:id="_VwXYscDDEe2AvpP2PETKhQ" name="MG6rgbC7vm" incomingTransitions="_VwXYuMDDEe2AvpP2PETKhQ"/>
            <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYssDDEe2AvpP2PETKhQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYs8DDEe2AvpP2PETKhQ" specification="" target="_VwXYtMDDEe2AvpP2PETKhQ"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_VwXYtMDDEe2AvpP2PETKhQ" specification="entry /&#xA;raise setTargetSpeed: 0" name="Braking" incomingTransitions="_VwXYs8DDEe2AvpP2PETKhQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYtcDDEe2AvpP2PETKhQ" specification="atTargetSpeed" target="_VwXYt8DDEe2AvpP2PETKhQ"/>
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYtsDDEe2AvpP2PETKhQ" specification="[standstill]" target="_VwXYt8DDEe2AvpP2PETKhQ"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_VwXYt8DDEe2AvpP2PETKhQ" specification="entry /&#xA;raise openDoors;&#xA;doorsOpen = true" name="DoorsOpen" incomingTransitions="_VwXYtcDDEe2AvpP2PETKhQ _VwXYtsDDEe2AvpP2PETKhQ">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYuMDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYscDDEe2AvpP2PETKhQ"/>
            </vertices>
          </regions>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_VwXYucDDEe2AvpP2PETKhQ" name="passengers">
        <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYusDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYu8DDEe2AvpP2PETKhQ" specification="" target="_VwXYvMDDEe2AvpP2PETKhQ"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYvMDDEe2AvpP2PETKhQ" specification="" name="NoPassengers" incomingTransitions="_VwXYu8DDEe2AvpP2PETKhQ _VwXYxcDDEe2AvpP2PETKhQ _VwXYwsDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYvcDDEe2AvpP2PETKhQ" specification="board [doorsOpen &amp;&amp; remainingCapacity > 0] /&#xA;numPassengers += 1;&#xA;remainingCapacity -= 1;&#xA;raise refreshUI" target="_VwXYwcDDEe2AvpP2PETKhQ"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYvsDDEe2AvpP2PETKhQ" specification="unboard [doorsOpen &amp;&amp; numPassengers > 0] /&#xA;numPassengers -= 1;&#xA;remainingCapacity += 1;&#xA;raise refreshUI" target="_VwXYwcDDEe2AvpP2PETKhQ"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYv8DDEe2AvpP2PETKhQ" specification="after 1s" target="_VwXYxMDDEe2AvpP2PETKhQ"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYwMDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYw8DDEe2AvpP2PETKhQ"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYwcDDEe2AvpP2PETKhQ" specification="entry /&#xA;doorsBlocked = true" name="PassengerMoving" incomingTransitions="_VwXYvcDDEe2AvpP2PETKhQ _VwXYvsDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYwsDDEe2AvpP2PETKhQ" specification="after 1s" target="_VwXYvMDDEe2AvpP2PETKhQ"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYw8DDEe2AvpP2PETKhQ" name="QbOxyuULaj" incomingTransitions="_VwXYwMDDEe2AvpP2PETKhQ"/>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYxMDDEe2AvpP2PETKhQ" specification="entry /&#xA;doorsBlocked = false" name="Waiting" incomingTransitions="_VwXYv8DDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYxcDDEe2AvpP2PETKhQ" specification="after 100ms" target="_VwXYvMDDEe2AvpP2PETKhQ"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_VwXYxsDDEe2AvpP2PETKhQ" name="stop">
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYx8DDEe2AvpP2PETKhQ" name="Concurrently" incomingTransitions="_VwXYzMDDEe2AvpP2PETKhQ _VwXYyMDDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYyMDDEe2AvpP2PETKhQ" specification="requestStop / &#xA;stopsAt |= (1 &lt;&lt; valueof(requestStop));&#xA;raise refreshUI" target="_VwXYx8DDEe2AvpP2PETKhQ"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYycDDEe2AvpP2PETKhQ" specification="[true]" target="_VwXYysDDEe2AvpP2PETKhQ"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_VwXYysDDEe2AvpP2PETKhQ" name="nnrnIZjTag" incomingTransitions="_VwXYycDDEe2AvpP2PETKhQ"/>
        <vertices xmi:type="sgraph:Entry" xmi:id="_VwXYy8DDEe2AvpP2PETKhQ">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_VwXYzMDDEe2AvpP2PETKhQ" specification="" target="_VwXYx8DDEe2AvpP2PETKhQ"/>
        </vertices>
      </regions>
    </vertices>
  </regions>
</sgraph:Statechart>
