<?xml version="1.0" encoding="UTF-8"?>
<sgraph:Statechart xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:sgraph="http://www.yakindu.org/sct/sgraph/2.0.0" xmi:id="_OHqakMUJEe26WavsTYWx0g" specification="// You are only allowed to edit the&#xA;// &quot;internal&quot; section, see below&#xA;&#xA;// DO NOT EDIT THESE OPTIONS&#xA;@EventDriven&#xA;@SuperSteps(no) &#xA;&#xA;interface:&#xA;&#x9;// DO NOT EDIT THE INTERFACE&#xA;&#x9;&#xA;&#x9;in event approachingStation: integer&#xA;&#x9;out event openDoors&#xA;&#x9;out event closeDoors&#xA;&#x9;out event startDoorsSignal&#xA;&#x9;out event stopDoorsSignal&#xA;&#x9;in event board&#xA;&#x9;in event unboard&#xA;&#x9;in event requestStop: integer&#xA;&#x9;out event setTargetSpeed: real&#xA;&#x9;in event atTargetSpeed&#xA;&#x9;&#xA;&#x9;in event startEmergency&#xA;&#x9;in event stopEmergency&#xA;&#xA;&#x9;var stopsAt: integer = 1&#xA;&#x9;var remainingCapacity: integer = 6&#xA;&#x9;var numPassengers: integer = 0&#xA;&#xA;&#x9;out event refreshUI&#xA;&#xA;internal:&#xA;&#x9;var currentSpeed: real&#xA;&#x9;var stop: integer&#xA;&#x9;var arrivingStation: integer&#xA;&#x9;var check: integer&#xA;&#x9;event setTimer: integer&#xA;&#x9;var timer: integer&#xA;&#x9;event timerOver&#xA;&#x9;event allowBoarding&#xA;&#x9;event blockBoarding&#xA;&#x9;// FEEL FREE TO EDIT&#xA;&#x9;// e.g. add internal variables,&#xA;&#x9;//       internal events, ..." name="Kat">
  <regions xmi:type="sgraph:Region" xmi:id="_OHqakcUJEe26WavsTYWx0g" name="QDbb5nHQ2K">
    <vertices xmi:type="sgraph:State" xmi:id="_OHqaksUJEe26WavsTYWx0g" name="vydA4eoN6t" incomingTransitions="_OHqa7sUJEe26WavsTYWx0g">
      <regions xmi:type="sgraph:Region" xmi:id="_OHqak8UJEe26WavsTYWx0g" name="wIuvL5B85P">
        <vertices xmi:type="sgraph:State" xmi:id="_OHqalMUJEe26WavsTYWx0g" name="SN8NKA06nO" incomingTransitions="_OHqamcUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqalcUJEe26WavsTYWx0g" specification="requestStop" target="_OHqalsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqalsUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;stop = valueof(requestStop);&#xD;&#xA;stopsAt |= (1 &lt;&lt; stop);&#xD;&#xA;raise refreshUI" name="lKgS4f4lBA" incomingTransitions="_OHqalcUJEe26WavsTYWx0g _OHqal8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqal8UJEe26WavsTYWx0g" specification="requestStop" target="_OHqalsUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OHqamMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqamcUJEe26WavsTYWx0g" target="_OHqalMUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OHqamsUJEe26WavsTYWx0g" name="RMo7JuxX6v">
        <vertices xmi:type="sgraph:Entry" xmi:id="_OHqam8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqanMUJEe26WavsTYWx0g" specification="" target="_OHqaocUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqancUJEe26WavsTYWx0g" specification="" name="LC2FfXiR9z" incomingTransitions="_OHqaosUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqansUJEe26WavsTYWx0g" specification="allowBoarding" target="_OHqaocUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqan8UJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;remainingCapacity -= 1;&#xD;&#xA;numPassengers +=1;&#xD;&#xA;raise refreshUI&#xD;&#xA;" name="Z2pBkYvGSC" incomingTransitions="_OHqao8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaoMUJEe26WavsTYWx0g" specification="after 1s" target="_OHqap8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqaocUJEe26WavsTYWx0g" specification="" name="zS55Q1tC2u" incomingTransitions="_OHqansUJEe26WavsTYWx0g _OHqanMUJEe26WavsTYWx0g _OHqaqMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaosUJEe26WavsTYWx0g" specification="blockBoarding" target="_OHqancUJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqao8UJEe26WavsTYWx0g" specification="board [remainingCapacity > 0] / raise setTimer:1000" target="_OHqan8UJEe26WavsTYWx0g"/>
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqapMUJEe26WavsTYWx0g" specification="unboard [numPassengers > 0] / raise setTimer:1000" target="_OHqapcUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqapcUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;remainingCapacity += 1;&#xD;&#xA;numPassengers -=1;&#xD;&#xA;raise refreshUI" name="vovrN46I16" incomingTransitions="_OHqapMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqapsUJEe26WavsTYWx0g" specification="after 1s" target="_OHqap8UJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqap8UJEe26WavsTYWx0g" specification="entry/&#xA;raise setTimer:1000" name="YioZmx0FlU" incomingTransitions="_OHqapsUJEe26WavsTYWx0g _OHqaoMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaqMUJEe26WavsTYWx0g" specification="always" target="_OHqaocUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OHqaqcUJEe26WavsTYWx0g" name="NwdqzG2tEl">
        <vertices xmi:type="sgraph:State" xmi:id="_OHqaqsUJEe26WavsTYWx0g" name="XefBDGboVD" incomingTransitions="_OHqauMUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaq8UJEe26WavsTYWx0g" specification="setTimer /&#xA;timer= valueof(setTimer)" target="_OHqarsUJEe26WavsTYWx0g"/>
          <regions xmi:type="sgraph:Region" xmi:id="_OHqarMUJEe26WavsTYWx0g" name="TKqnA0ZwbU">
            <vertices xmi:type="sgraph:State" xmi:id="_OHqarcUJEe26WavsTYWx0g" specification="" name="veTmKRZNmQ" incomingTransitions="_OHqatsUJEe26WavsTYWx0g _OHqassUJEe26WavsTYWx0g"/>
            <vertices xmi:type="sgraph:State" xmi:id="_OHqarsUJEe26WavsTYWx0g" name="J8AgNhclfa" incomingTransitions="_OHqaq8UJEe26WavsTYWx0g">
              <regions xmi:type="sgraph:Region" xmi:id="_OHqar8UJEe26WavsTYWx0g" name="YUU8oMFiNt">
                <vertices xmi:type="sgraph:State" xmi:id="_OHqasMUJEe26WavsTYWx0g" specification="" name="wyE5Ewy398" incomingTransitions="_OHqascUJEe26WavsTYWx0g _OHqatMUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqascUJEe26WavsTYWx0g" specification="after 10ms [timer > 0] /&#xA;timer -= 10" target="_OHqasMUJEe26WavsTYWx0g"/>
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqassUJEe26WavsTYWx0g" specification="[ timer  == 0 ] / raise timerOver" target="_OHqarcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_OHqas8UJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqatMUJEe26WavsTYWx0g" specification="" target="_OHqasMUJEe26WavsTYWx0g"/>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_OHqatcUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqatsUJEe26WavsTYWx0g" specification="" target="_OHqarcUJEe26WavsTYWx0g"/>
            </vertices>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OHqat8UJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqauMUJEe26WavsTYWx0g" specification="" target="_OHqaqsUJEe26WavsTYWx0g"/>
        </vertices>
      </regions>
      <regions xmi:type="sgraph:Region" xmi:id="_OHqaucUJEe26WavsTYWx0g" name="Route">
        <vertices xmi:type="sgraph:State" xmi:id="_OHqausUJEe26WavsTYWx0g" name="Normal" incomingTransitions="_OHqa4cUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqau8UJEe26WavsTYWx0g" specification="startEmergency" target="_OHqa4sUJEe26WavsTYWx0g"/>
          <regions xmi:type="sgraph:Region" xmi:id="_OHqavMUJEe26WavsTYWx0g" name="wFbsbAx3h3">
            <vertices xmi:type="sgraph:Entry" xmi:id="_OHqavcUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqavsUJEe26WavsTYWx0g" specification="/arrivingStation = 0" target="_OHqav8UJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OHqav8UJEe26WavsTYWx0g" name="BbsSSIyCw3" incomingTransitions="_OHqavsUJEe26WavsTYWx0g _OHqa28UJEe26WavsTYWx0g">
              <regions xmi:type="sgraph:Region" xmi:id="_OHqawMUJEe26WavsTYWx0g" name="dYfOUVPDlR">
                <vertices xmi:type="sgraph:State" xmi:id="_OHqawcUJEe26WavsTYWx0g" name="ZHQtlSdQMc" incomingTransitions="_OHqaxcUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqawsUJEe26WavsTYWx0g" specification="[stopsAt > 0 &amp;&amp; stop != arrivingStation] " target="_OHqa3sUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Choice" xmi:id="_OHqaw8UJEe26WavsTYWx0g" incomingTransitions="_OHqax8UJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaxMUJEe26WavsTYWx0g" specification="[stopsAt > 0] " target="_OHqa3sUJEe26WavsTYWx0g"/>
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaxcUJEe26WavsTYWx0g" specification="else" target="_OHqawcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqaxsUJEe26WavsTYWx0g" specification="" name="CldRGu66Az" incomingTransitions="_OHqaycUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqax8UJEe26WavsTYWx0g" specification="after 2s /&#xD;&#xA; stopsAt &amp;= ~(1 &lt;&lt; arrivingStation)" target="_OHqaw8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_OHqayMUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqaycUJEe26WavsTYWx0g" specification="" target="_OHqaxsUJEe26WavsTYWx0g"/>
                </vertices>
              </regions>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_OHqaysUJEe26WavsTYWx0g" name="Gwtm08MwOC" incomingTransitions="_OHqa5cUJEe26WavsTYWx0g" kind="SHALLOW_HISTORY"/>
            <vertices xmi:type="sgraph:State" xmi:id="_OHqay8UJEe26WavsTYWx0g" name="ClosedDoors">
              <regions xmi:type="sgraph:Region" xmi:id="_OHqazMUJEe26WavsTYWx0g" name="oz7mQVPKUW">
                <vertices xmi:type="sgraph:State" xmi:id="_OHqazcUJEe26WavsTYWx0g" specification="entry /&#xD;&#xA;currentSpeed = 24;&#xD;&#xA;raise setTargetSpeed: currentSpeed" name="U2plJAv2gv" incomingTransitions="_OHqa2cUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqazsUJEe26WavsTYWx0g" specification="atTargetSpeed" target="_OHqa1sUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqaz8UJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;arrivingStation = &#xD;&#xA;valueof(approachingStation);&#xD;&#xA;check = stopsAt &amp; (1 &lt;&lt; arrivingStation);&#xD;&#xA;raise refreshUI&#xD;&#xA;" name="nYfrZShNkp" incomingTransitions="_OHqa18UJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa0MUJEe26WavsTYWx0g" specification="after 1ms" target="_OHqa0cUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Choice" xmi:id="_OHqa0cUJEe26WavsTYWx0g" incomingTransitions="_OHqa0MUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa0sUJEe26WavsTYWx0g" specification="[check != 0] " target="_OHqa1MUJEe26WavsTYWx0g"/>
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa08UJEe26WavsTYWx0g" specification="else" target="_OHqa1sUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqa1MUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;raise setTargetSpeed:0" name="Mpcaxy5qDn" incomingTransitions="_OHqa0sUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa1cUJEe26WavsTYWx0g" specification="atTargetSpeed" target="_OHqa2sUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqa1sUJEe26WavsTYWx0g" specification="" name="f0jUHX2KgY" incomingTransitions="_OHqa08UJEe26WavsTYWx0g _OHqazsUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa18UJEe26WavsTYWx0g" specification="approachingStation" target="_OHqaz8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqa2MUJEe26WavsTYWx0g" specification="entry /  &#xD;&#xA;raise closeDoors;&#xD;&#xA;raise blockBoarding;&#xD;&#xA;raise stopDoorsSignal; &#xD;&#xA;raise refreshUI" name="tbxSkifOEw" incomingTransitions="_OHqa38UJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa2cUJEe26WavsTYWx0g" specification="after 1s" target="_OHqazcUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqa2sUJEe26WavsTYWx0g" specification="entry /&#xD;&#xA;currentSpeed = 0" name="y9BpTLmlvN" incomingTransitions="_OHqa1cUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa28UJEe26WavsTYWx0g" specification="after 1s / raise openDoors; &#xD;&#xA;raise refreshUI;&#xD;&#xA;raise allowBoarding&#xD;&#xA;" target="_OHqav8UJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:Entry" xmi:id="_OHqa3MUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa3cUJEe26WavsTYWx0g" specification="" target="_OHqa3sUJEe26WavsTYWx0g"/>
                </vertices>
                <vertices xmi:type="sgraph:State" xmi:id="_OHqa3sUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;raise startDoorsSignal;&#xD;&#xA;raise refreshUI;&#xD;&#xA;raise setTimer:1000" name="ugaeuKPMyC" incomingTransitions="_OHqaxMUJEe26WavsTYWx0g _OHqa3cUJEe26WavsTYWx0g _OHqawsUJEe26WavsTYWx0g">
                  <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa38UJEe26WavsTYWx0g" specification="timerOver " target="_OHqa2MUJEe26WavsTYWx0g"/>
                </vertices>
              </regions>
            </vertices>
          </regions>
        </vertices>
        <vertices xmi:type="sgraph:Entry" xmi:id="_OHqa4MUJEe26WavsTYWx0g">
          <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa4cUJEe26WavsTYWx0g" target="_OHqausUJEe26WavsTYWx0g"/>
        </vertices>
        <vertices xmi:type="sgraph:State" xmi:id="_OHqa4sUJEe26WavsTYWx0g" name="Opgz7yfDsM" incomingTransitions="_OHqau8UJEe26WavsTYWx0g">
          <regions xmi:type="sgraph:Region" xmi:id="_OHqa48UJEe26WavsTYWx0g" name="MAHW3LoKyv">
            <vertices xmi:type="sgraph:State" xmi:id="_OHqa5MUJEe26WavsTYWx0g" specification="entry / &#xD;&#xA;raise openDoors;&#xD;&#xA;raise allowBoarding&#xD;&#xA;" name="EmergencyStop" incomingTransitions="_OHqa7MUJEe26WavsTYWx0g _OHqa6cUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa5cUJEe26WavsTYWx0g" specification="stopEmergency" target="_OHqaysUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:Entry" xmi:id="_OHqa5sUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa58UJEe26WavsTYWx0g" specification="" target="_OHqa6MUJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:Choice" xmi:id="_OHqa6MUJEe26WavsTYWx0g" incomingTransitions="_OHqa58UJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa6cUJEe26WavsTYWx0g" specification="[currentSpeed == 0.0] " target="_OHqa5MUJEe26WavsTYWx0g"/>
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa6sUJEe26WavsTYWx0g" specification="else" target="_OHqa68UJEe26WavsTYWx0g"/>
            </vertices>
            <vertices xmi:type="sgraph:State" xmi:id="_OHqa68UJEe26WavsTYWx0g" specification="entry /&#xD;&#xA;raise setTargetSpeed: 0;&#xD;&#xA;raise refreshUI " name="iphxiOQBpB" incomingTransitions="_OHqa6sUJEe26WavsTYWx0g">
              <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa7MUJEe26WavsTYWx0g" specification="atTargetSpeed" target="_OHqa5MUJEe26WavsTYWx0g"/>
            </vertices>
          </regions>
        </vertices>
      </regions>
    </vertices>
    <vertices xmi:type="sgraph:Entry" xmi:id="_OHqa7cUJEe26WavsTYWx0g">
      <outgoingTransitions xmi:type="sgraph:Transition" xmi:id="_OHqa7sUJEe26WavsTYWx0g" specification="" target="_OHqaksUJEe26WavsTYWx0g"/>
    </vertices>
  </regions>
</sgraph:Statechart>
